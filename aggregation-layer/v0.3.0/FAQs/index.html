
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../UpgradeableTokens/">
      
      
        <link rel="next" href="../Changes-v0.3.1/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>3.2.8. FAQs - SC-Protocol Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#faqs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="SC-Protocol Documentation" class="md-header__button md-logo" aria-label="SC-Protocol Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SC-Protocol Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.2.8. FAQs
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Agglayer/protocol-team-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="SC-Protocol Documentation" class="md-nav__button md-logo" aria-label="SC-Protocol Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    SC-Protocol Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Agglayer/protocol-team-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    1. zkEVM
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            1. zkEVM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zkEVM/banana-specs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Banana (fork.12)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../zkEVM/durian-specs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. Durian (fork.13)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    2.Tooling
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            2.Tooling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tooling/Resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1. Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tooling/Genesis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. Genesis creation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    3. Aggregation layer
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            3. Aggregation layer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    3.1. Version 0.2.0
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            3.1. Version 0.2.0
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v0.2.0/ChangeLog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1.1. SC ChangeLog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v0.2.0/SC-Versions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1.2. SC-Tags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1_3" >
        
          
          <label class="md-nav__link" for="__nav_4_1_3" id="__nav_4_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    3.1.3. Sovereign Chains
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_3">
            <span class="md-nav__icon md-icon"></span>
            3.1.3. Sovereign Chains
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v0.2.0/SovereignChains/Intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1.3.1. Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v0.2.0/SovereignChains/SovereignBridge%20SC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1.3.2. SovereignBridge SC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v0.2.0/SovereignChains/SovereignGERManager%20SC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1.3.3. SovereignGERManager SC
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v0.2.0/Resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1.4. Resources
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    3.2. Version 0.3.0
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            3.2. Version 0.3.0
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SC-specs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2.1. SC Specifications
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Diagrams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2.2. Diagrams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2.3. Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tooling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2.4. Tooling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Roles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2.5. Roles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2_6" >
        
          
          <label class="md-nav__link" for="__nav_4_2_6" id="__nav_4_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    3.2.6. SC Interactions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_6">
            <span class="md-nav__icon md-icon"></span>
            3.2.6. SC Interactions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SC-interactions/AggLayerGateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2.6.1. AggLayerGateway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SC-interactions/AggchainFEP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2.6.2. AggchainFEP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SC-interactions/PolygonRollupManager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2.6.3. PolygonRollupManager
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UpgradeableTokens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2.7. Upgradeable Tokens
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    3.2.8. FAQs
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    3.2.8. FAQs
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-docker" class="md-nav__link">
    <span class="md-ellipsis">
      1. Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-use-sudo-in-docker-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Why use sudo in docker scripts?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-about-the-legacy-rollups-pp" class="md-nav__link">
    <span class="md-ellipsis">
      What about the legacy rollups (PP)?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-smart-contracts" class="md-nav__link">
    <span class="md-ellipsis">
      2. Smart Contracts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Smart Contracts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contracts-errors-events-and-functions-selectors" class="md-nav__link">
    <span class="md-ellipsis">
      Contracts errors, events and functions selectors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverted-with-data-0x" class="md-nav__link">
    <span class="md-ellipsis">
      Reverted with data '0x'
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-vkeys-aggchain-fep" class="md-nav__link">
    <span class="md-ellipsis">
      3. VKeys Aggchain (FEP)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. VKeys Aggchain (FEP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#programvkey" class="md-nav__link">
    <span class="md-ellipsis">
      programVkey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pessimisticvkey-agglayervkey-or-ppvkey" class="md-nav__link">
    <span class="md-ellipsis">
      pessimisticVkey (agglayerVkey or ppvkey)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggchainvkey" class="md-nav__link">
    <span class="md-ellipsis">
      aggchainVkey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregationvkey" class="md-nav__link">
    <span class="md-ellipsis">
      aggregationVkey
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-debug-invalid-proof" class="md-nav__link">
    <span class="md-ellipsis">
      4. Debug Invalid Proof
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Debug Invalid Proof">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proofbytes" class="md-nav__link">
    <span class="md-ellipsis">
      proofBytes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#programvkey_1" class="md-nav__link">
    <span class="md-ellipsis">
      programVKey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#publicinputs" class="md-nav__link">
    <span class="md-ellipsis">
      publicInputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="publicInputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lastlocalexitroot-lastpessimisticroot" class="md-nav__link">
    <span class="md-ellipsis">
      lastLocalExitRoot &amp; lastPessimisticRoot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l1infotreeroot" class="md-nav__link">
    <span class="md-ellipsis">
      l1InfoTreeRoot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rollupid" class="md-nav__link">
    <span class="md-ellipsis">
      rollupID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consensushash" class="md-nav__link">
    <span class="md-ellipsis">
      consensusHash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#newlocalexitroot-newpessimisticroot" class="md-nav__link">
    <span class="md-ellipsis">
      newLocalExitRoot &amp; newPessimisticRoot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-command" class="md-nav__link">
    <span class="md-ellipsis">
      Quick command
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pessimistic" class="md-nav__link">
    <span class="md-ellipsis">
      Pessimistic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agglayergateway" class="md-nav__link">
    <span class="md-ellipsis">
      AgglayerGateway
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Changes-v0.3.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2.9. Changes v0.3.1
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    3.3. Version 0.3.5
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            3.3. Version 0.3.5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../v0.3.5/Changes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3.1 Changes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    4. Smart Contracts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            4. Smart Contracts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    4.0. Version 11
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            4.0. Version 11
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../smart-contracts/v11/versions-tag11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0.1 Summary
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    4.1. Version 12-rc0
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            4.1. Version 12-rc0
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../smart-contracts/v12/versions-tag12-rc0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1.1 Summary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../smart-contracts/v12/BridgeL2SovereignChain-v2.0.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1.2 BridgeL2SovereignChain-v2.0.0
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../smart-contracts/v12/PolygonZkEVMBridgeV2-v1.1.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1.3 PolygonZkEVMBridgeV2-v1.1.0
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    5. Outposts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            5. Outposts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../outposts/OutpostL2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.1 Outpost L2 Contracts
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-docker" class="md-nav__link">
    <span class="md-ellipsis">
      1. Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-use-sudo-in-docker-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Why use sudo in docker scripts?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-about-the-legacy-rollups-pp" class="md-nav__link">
    <span class="md-ellipsis">
      What about the legacy rollups (PP)?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-smart-contracts" class="md-nav__link">
    <span class="md-ellipsis">
      2. Smart Contracts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Smart Contracts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contracts-errors-events-and-functions-selectors" class="md-nav__link">
    <span class="md-ellipsis">
      Contracts errors, events and functions selectors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverted-with-data-0x" class="md-nav__link">
    <span class="md-ellipsis">
      Reverted with data '0x'
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-vkeys-aggchain-fep" class="md-nav__link">
    <span class="md-ellipsis">
      3. VKeys Aggchain (FEP)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. VKeys Aggchain (FEP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#programvkey" class="md-nav__link">
    <span class="md-ellipsis">
      programVkey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pessimisticvkey-agglayervkey-or-ppvkey" class="md-nav__link">
    <span class="md-ellipsis">
      pessimisticVkey (agglayerVkey or ppvkey)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggchainvkey" class="md-nav__link">
    <span class="md-ellipsis">
      aggchainVkey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregationvkey" class="md-nav__link">
    <span class="md-ellipsis">
      aggregationVkey
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-debug-invalid-proof" class="md-nav__link">
    <span class="md-ellipsis">
      4. Debug Invalid Proof
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Debug Invalid Proof">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proofbytes" class="md-nav__link">
    <span class="md-ellipsis">
      proofBytes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#programvkey_1" class="md-nav__link">
    <span class="md-ellipsis">
      programVKey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#publicinputs" class="md-nav__link">
    <span class="md-ellipsis">
      publicInputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="publicInputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lastlocalexitroot-lastpessimisticroot" class="md-nav__link">
    <span class="md-ellipsis">
      lastLocalExitRoot &amp; lastPessimisticRoot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l1infotreeroot" class="md-nav__link">
    <span class="md-ellipsis">
      l1InfoTreeRoot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rollupid" class="md-nav__link">
    <span class="md-ellipsis">
      rollupID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consensushash" class="md-nav__link">
    <span class="md-ellipsis">
      consensusHash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#newlocalexitroot-newpessimisticroot" class="md-nav__link">
    <span class="md-ellipsis">
      newLocalExitRoot &amp; newPessimisticRoot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-command" class="md-nav__link">
    <span class="md-ellipsis">
      Quick command
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pessimistic" class="md-nav__link">
    <span class="md-ellipsis">
      Pessimistic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agglayergateway" class="md-nav__link">
    <span class="md-ellipsis">
      AgglayerGateway
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="faqs">FAQs</h1>
<h2 id="1-docker">1. Docker</h2>
<h3 id="why-use-sudo-in-docker-scripts">Why use <code>sudo</code> in docker scripts?</h3>
<p>The use of sudo with those files is required to ensure compatibility with <code>GHA</code> (GitHub Actions), as elevated permissions are often necessary in that environment. However, in some cases, it may be necessary to remove those commands from the script when running docker locally, depending on the user's system configuration and permissions.</p>
<h3 id="what-about-the-legacy-rollups-pp">What about the legacy rollups (PP)?</h3>
<p>You can still create rollups using the same process as before. Compatibility remains unchanged — we've only added support for the new ones.</p>
<p>To better understand compatibility, you can refer to this <a href="https://didactic-giggle-9pqo9jg.pages.github.io/aggregation-layer/v0.3.0/SC-specs/#15-table-agglayer-chains-supported">table</a>.</p>
<blockquote>
<p>Note that the deployment files have changed slightly, as mentioned in this <a href="https://didactic-giggle-9pqo9jg.pages.github.io/aggregation-layer/v0.3.0/Docker/#5-diff-with-version-v020">section</a>.</p>
</blockquote>
<h2 id="2-smart-contracts">2. Smart Contracts</h2>
<h3 id="contracts-errors-events-and-functions-selectors">Contracts errors, events and functions selectors</h3>
<p>This <a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/docs/selectors.txt">link</a> contains the full list of contract errors (and their signatures), as well as the functions and events.</p>
<h3 id="reverted-with-data-0x">Reverted with data '0x'</h3>
<p>Potential cases:</p>
<ul>
<li>
<p><a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/v2/PolygonRollupManager.sol#L1210-L1217">function selector (first 4 bytes on the calldata)</a></p>
</li>
<li>
<p>calldata parameters defined as <code>bytes</code> incorrectly parsed inside the SC:</p>
<ul>
<li><a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/v2/PolygonRollupManager.sol#L1215">bytes proof</a><ul>
<li><a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/v2/AggLayerGateway.sol#L120-L122">must follow this enconding</a></li>
<li><a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/v2/AggLayerGateway.sol#L129">sanity check on the length here</a></li>
<li>parsed in <a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/v2/AggLayerGateway.sol#L133">here</a> and <a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/v2/AggLayerGateway.sol#L145">here</a></li>
<li>note that if the verifier is mock...everything will be fine. If the verififer is real, SP1 also does some parsing <a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/verifiers/v4.0.0-rc.3/SP1VerifierPlonk.sol#L47">here</a> and <a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/verifiers/v4.0.0-rc.3/SP1VerifierPlonk.sol#L57">here</a></li>
</ul>
</li>
<li><a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/v2/PolygonRollupManager.sol#L1216">aggchainData</a><ul>
<li>parsed <a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/v2/aggchains/AggchainFEP.sol#L434-L443">here</a> and <a href="https://github.com/agglayer/agg-contracts-internal/blob/feature/ongoing-v0.3.0/contracts/v2/aggchains/AggchainFEP.sol#L560-L568">here</a></li>
</ul>
</li>
</ul>
</li>
<li>calldata <code>cast</code> parsing:
<div class="highlight"><pre><span></span><code>cast decode-calldata &quot;verifyPessimisticTrustedAggregator(uint32,uint32,bytes32,bytes32,bytes,bytes)&quot; 0x6c76687700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000059824c4849da053ff471f1ce2bc4f8fc2d257aa61fc7bee86c1f5ce0463f7d4a68756fe264848d34dd69293eac0fc7ad0c7d0eaf9398231b17b381b13b8af7035400000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000004000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000420000c52de932284856798760c67a6c602cdd0f47ae4af86321e44ed28637f634dbef0000000000000000000000000000000000000000000000000000000000000169000000000000000000000000000000000000000000000000000000000000 | \
awk &#39;
  NR==1 { print &quot;rollupID: &quot; $0 }
  NR==2 { print &quot;l1InfoTreeLeafCount:   &quot; $0 }
  NR==3 { print &quot;newLocalExitRoot:    &quot; $0 }
  NR==4 { print &quot;newPessimisticRoot:      &quot; $0 }
  NR==5 { print &quot;proof:         &quot; $0 }
  NR==6 { print &quot;aggchainData:  &quot; $0 }
&#39;
</code></pre></div></li>
</ul>
<h2 id="3-vkeys-aggchain-fep">3. VKeys Aggchain (FEP)</h2>
<table>
<thead>
<tr>
<th>VKey</th>
<th>Alternative Names</th>
<th>Prover</th>
<th>Primary Use</th>
<th>Used When...</th>
<th>Change with</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>programVkey</code></td>
<td><code>agglayerVkey</code></td>
<td>agglayer</td>
<td>Only used for <em>pessimistic</em></td>
<td><code>addNewRollupType</code> -&gt; <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/contracts/v2/PolygonRollupManager.sol#L497">PolygonRollupManager</a></td>
<td>create new rollup type</td>
</tr>
<tr>
<td><code>pessimisticVkey</code> / <code>ppVkey</code></td>
<td><code>agglayerVkey</code></td>
<td>agglayer</td>
<td>Only used for <em>FEP, v0.3.0</em></td>
<td>Whenever configuring the <code>aggLayerGateway</code> (<a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/deployment/v2/deploy_parameters.json.example#L14">deploy_parameters.json</a>)</td>
<td><code>addPessimisticVKeyRoute</code> -&gt; <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/contracts/v2/AggLayerGateway.sol#L189">AgglayerGateway</a></td>
</tr>
<tr>
<td><code>aggchainVkey</code></td>
<td><code>aggkitVkey</code></td>
<td>aggkit-prover</td>
<td>Only used for <em>FEP, v0.3.0</em></td>
<td>During FEP setup: <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/tools/initializeRollup/initialize_rollup.json.example#L32">aggchainParams</a> <code>initOwnedAggchainVKey</code> &amp;  <code>addDefaultAggchainVKey</code> --&gt; <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/contracts/v2/AggLayerGateway.sol#L236">AgglayerGateway</a></td>
<td><code>addDefaultAggchainVKey/updateDefaultAggchainVKey</code> -&gt; <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/contracts/v2/AggLayerGateway.sol#L261">AgglayerGateway</a>,  <code>addOwnedAggchainVKey</code> -&gt; <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/contracts/v2/lib/AggchainBase.sol#L316">rollupContract</a></td>
</tr>
<tr>
<td><code>aggregationVkey</code></td>
<td>—</td>
<td>op-succinct-proposer</td>
<td>Only used for <em>FEP, v0.3.0</em></td>
<td><a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/tools/initializeRollup/initialize_rollup.json.example#L28">initParams</a>:   aggregationVkey</td>
<td>—</td>
</tr>
</tbody>
</table>
<p>During environment setup, four distinct verification keys (vkeys) are defined, each serving a specific purpose in the proof verification and deployment workflows. Below is a detailed description of each key and its corresponding usage:</p>
<h3 id="programvkey">programVkey</h3>
<p>This <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/tools/addRollupType/add_rollup_type.json.example#L16">key</a> is used to verify proofs (<code>agglayer-prover</code>) when operating under pessimistic consensus.
  In any scenario outside of pessimistic consensus, the value of programVkey must be set to zero (0).</p>
<h3 id="pessimisticvkey-agglayervkey-or-ppvkey">pessimisticVkey (<code>agglayerVkey</code> or <code>ppvkey</code>)</h3>
<p>Similar to programVkey, this key is used to verify proofs (<code>agglayer-prover</code>).</p>
<p>This is the vkey to be specified in the <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/deployment/v2/deploy_parameters.json.example#L14">deploy_parameters.json</a> file when launching a new environment.</p>
<p>To add a new ppvkey after deployment, it must be registered in the AgglayerGateway contract using the addPessimisticVKeyRoute <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/contracts/v2/AggLayerGateway.sol#L189">function</a>.</p>
<p>A dedicated <a href="https://github.com/agglayer/agglayer-contracts/tree/feature/ongoing-v0.3.0/tools/aggLayerGatewayTools/addPessimisticVKeyRoute">tool</a> is available to facilitate this operation.</p>
<p>Cast commands:</p>
<ul>
<li><code>addPessimisticVKeyRoute</code>
  <div class="highlight"><pre><span></span><code>cast send \
  --rpc-url $SEPOLIA_PROVIDER \
  --private-key $ZKEVM_ADMIN_KEY \
  $AGGLAYER_GW_ADDR \
  &#39;addPessimisticVKeyRoute(bytes4,address,bytes32)&#39; \
  $AGGLAYER_VKEYSELECTOR $PPVKEY_VERIFIER $AGGLAYER_VKEY
</code></pre></div></li>
<li>check <code>pessimisticVKeyRoute</code>
  <div class="highlight"><pre><span></span><code>cast call \
  --rpc-url $SEPOLIA_PROVIDER \
  $AGGLAYER_GW_ADDR \
  &#39;pessimisticVKeyRoutes(bytes4)&#39; \
  $AGGLAYER_VKEYSELECTOR
</code></pre></div></li>
</ul>
<h3 id="aggchainvkey">aggchainVkey</h3>
<p>This key is used by the <code>aggkit-prover</code>.</p>
<p>During the initialize step of the FEP, it must be included in <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/tools/initializeRollup/initialize_rollup.json.example#L32">aggchainParams</a> under the <code>initOwnedAggchainVKey</code> field.</p>
<p>It must be added to the AgglayerGateway using the a <code>addDefaultAggchainVKey</code> <a href="https://github.com/agglayer/agglayer-contracts/tree/feature/ongoing-v0.3.0/tools/aggLayerGatewayTools/addDefaultAggchainVKey">tool</a>.</p>
<p>To update this vkey after deployment, use either <code>addDefaultAggchainVKey</code> (<a href="https://github.com/agglayer/agglayer-contracts/tree/feature/ongoing-v0.3.0/tools/aggLayerGatewayTools/addDefaultAggchainVKey">tool</a>) or <code>updateDefaultAggchainVKey</code> (<a href="https://github.com/agglayer/agglayer-contracts/tree/feature/ongoing-v0.3.0/tools/aggLayerGatewayTools/updateDefaultAggchainVKey">tool</a>).</p>
<p>Additionally, the <code>ownedAggchainVkey</code> field must be updated on the <code>rollupContract</code> with this <code>addOwnedAggchainVKey</code> <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/contracts/v2/lib/AggchainBase.sol#L316">function</a> or <code>updateOwnedAggchainVKey</code> <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/contracts/v2/lib/AggchainBase.sol#L338C14-L338C37">function</a>.</p>
<p>Cast commands:</p>
<ul>
<li><code>addOwnedAggchainVKey</code>
  <div class="highlight"><pre><span></span><code>cast send \
  --rpc-url $SEPOLIA_PROVIDER \
  --private-key $ZKEVM_ADMIN_KEY \
  $ROLLUP_ADDR \
  &#39;addOwnedAggchainVKey(bytes4,bytes32)&#39; \
  $AGGKIT_VKEYSELECTOR $AGGKIT_VKEY
</code></pre></div></li>
<li><code>updateOwnedAggchainVKey</code> (same <code>AGGKIT_VKEYSELECTOR</code>)
  <div class="highlight"><pre><span></span><code>cast send \
  --rpc-url $SEPOLIA_PROVIDER \
  --private-key $ZKEVM_ADMIN_KEY \
  $ROLLUP_ADDR \
  &#39;updateOwnedAggchainVKey(bytes4,bytes32)&#39; \
  $AGGKIT_VKEYSELECTOR $AGGKIT_VKEY
</code></pre></div></li>
<li>check <code>ownedAggchainVKey</code>
  <div class="highlight"><pre><span></span><code>cast call \
  --rpc-url $SEPOLIA_PROVIDER \
  $ROLLUP_ADDR \
  &#39;ownedAggchainVKeys(bytes4)&#39; \
  $AGGKIT_VKEYSELECTOR
</code></pre></div></li>
<li><code>addDefaultAggchainVKey</code>
  <div class="highlight"><pre><span></span><code>cast send \
  --rpc-url $SEPOLIA_PROVIDER \
  --private-key $ZKEVM_ADMIN_KEY \
  $AGGLAYER_GW_ADDR \
  &#39;addDefaultAggchainVKey(bytes4,bytes32)&#39; \
  $AGGKIT_VKEYSELECTOR $AGGKIT_VKEY
</code></pre></div></li>
<li><code>updateDefaultAggchainVKey</code> (same <code>AGGKIT_VKEYSELECTOR</code>)
  <div class="highlight"><pre><span></span><code>cast send \
  --rpc-url $SEPOLIA_PROVIDER \
  --private-key $ZKEVM_ADMIN_KEY \
  $AGGLAYER_GW_ADDR \
  &#39;updateDefaultAggchainVKey(bytes4,bytes32)&#39; \
  $AGGKIT_VKEYSELECTOR $AGGKIT_VKEY
</code></pre></div></li>
<li>check <code>defaultAggchainVKey</code>
  <div class="highlight"><pre><span></span><code>cast call \
  --rpc-url $SEPOLIA_PROVIDER \
  $AGGLAYER_GW_ADDR \
  &#39;defaultAggchainVKeys(bytes4)&#39; \
  $AGGKIT_VKEYSELECTOR
</code></pre></div></li>
</ul>
<h3 id="aggregationvkey">aggregationVkey</h3>
<p>This <a href="https://github.com/agglayer/agglayer-contracts/blob/feature/ongoing-v0.3.0/tools/initializeRollup/initialize_rollup.json.example#L28">vkey</a> is provided by the <code>op-succinct-proposer</code> component.</p>
<h2 id="4-debug-invalid-proof">4. Debug Invalid Proof</h2>
<p>When encountering the <code>InvalidProof error</code>, it's important to understand that this means the proof being submitted is not valid—as the error name itself suggests.</p>
<p>When we call the <code>verifyPessimisticTrustedAggregator</code> function, we do so with the following parameters:
<div class="highlight"><pre><span></span><code>uint32 rollupID,
uint32 l1InfoTreeLeafCount,
bytes32 newLocalExitRoot,
bytes32 newPessimisticRoot,
bytes calldata proof,
bytes calldata aggchainData
</code></pre></div></p>
<p>Internally, this function invokes <code>verifyProof</code>, which is called with three key parameters:
- <code>programVKey</code>
- <code>publicValues</code>
- <code>proofBytes</code></p>
<p>These are the required inputs for eventually calling the underlying <code>verify</code> function.</p>
<h3 id="proofbytes">proofBytes</h3>
<p>This parameter is typically correct. If you run into a <code>WrongVerifierSelector</code> error instead, it usually means that the verification is being routed to the wrong verifier.</p>
<h3 id="programvkey_1">programVKey</h3>
<p>You should ensure that this verification key (vkey) is correct.</p>
<ul>
<li>For rollups using a verifier of type <code>pessimistic</code>, the key is named <code>programVKey</code>.</li>
<li>For rollups using an <code>ALGateway</code> verifier, the key is called <code>pessimisticVKey</code>.</li>
</ul>
<p>It is crucial to confirm that the vkey you’re using matches the one expected by the system. You can validate this by using the appropriate command for each verifier type:</p>
<ul>
<li>Command for rollup with <code>pessimistic</code> verifier</li>
</ul>
<div class="highlight"><pre><span></span><code>cast call &lt;polygonRollupManager&gt; &quot;rollupIDToRollupDataV2Deserialized(uint32)(address,uint64,address,uint64,bytes32,uint64,uint64,uint64,uint64,uint8,bytes32,bytes32)&quot; &lt;rollupID&gt; --rpc-url &lt;sepolia_url&gt;
</code></pre></div>
<blockquote>
<p>fill <polygonRollupManager>, <rollupID>, <sepolia_url></p>
</blockquote>
<p>The <code>programVKey</code> is the last parameter of the output.</p>
<ul>
<li>
<p>Output: </p>
<ul>
<li>0xF21452f6b9606B4026fd1C057FDbd8bB7E33c487</li>
<li>472</li>
<li>0x0459d576A6223fEeA177Fb3DF53C9c77BF84C459</li>
<li>12</li>
<li>0x6a327b365efeb205f2dedc9ec6dd505d3c5c5dbb6d84a33233d4a9d6fb74295c</li>
<li>0</li>
<li>0</li>
<li>0</li>
<li>30</li>
<li>1</li>
<li>0x04970a4ae71b81bfca444f84318475a48475e6d1a1c6126e31c046d952eec6f2</li>
<li><mark><strong>0x00eff0b6998df46ec388bb305618089ae3dc74e513e7676b2e1909694f49cc30</strong></mark></li>
</ul>
</li>
<li>
<p>Command for rollup with <code>ALGateway</code> verifier</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>cast call &lt;agglayerGatewayAddress&gt; &quot;pessimisticVKeyRoutes(bytes4)(address,bytes32,bool)&quot; &lt;ppSelector&gt; --rpc-url &lt;sepolia_url&gt;
</code></pre></div>
<blockquote>
<p>fill <agglayerGatewayAddress>, <ppSelector>, <sepolia_url></p>
</blockquote>
<p>The <code>pessimisticVkey</code> is the second parameter of the output.
- Output:
    - 0x0459d576A6223fEeA177Fb3DF53C9c77BF84C459
    - <mark><strong>0x00eff0b6998df46ec388bb305618089ae3dc74e513e7676b2e1909694f49cc30</strong></mark>
    - false</p>
<h3 id="publicinputs">publicInputs</h3>
<div class="highlight"><pre><span></span><code>publicInputs = _getInputPessimisticBytes(
    rollupID,
    rollup,
    l1InfoRoot,
    newLocalExitRoot,
    newPessimisticRoot,
    aggchainData
);
</code></pre></div>
<p>where:</p>
<div class="highlight"><pre><span></span><code>inputPessimisticBytes = abi.encodePacked(
    rollup.lastLocalExitRoot,
    rollup.lastPessimisticRoot,
    l1InfoTreeRoot,
    rollupID,
    consensusHash,
    newLocalExitRoot,
    newPessimisticRoot
);
</code></pre></div>
<p>These are the parameters used to construct the public inputs. Therefore, we should carefully review each one individually to ensure they are correct:</p>
<h4 id="lastlocalexitroot-lastpessimisticroot">lastLocalExitRoot &amp; lastPessimisticRoot</h4>
<div class="highlight"><pre><span></span><code>cast call &lt;polygonRollupManager&gt; &quot;rollupIDToRollupDataV2Deserialized(uint32)(address,uint64,address,uint64,bytes32,uint64,uint64,uint64,uint64,uint8,bytes32,bytes32)&quot; &lt;rollupID&gt; --rpc-url &lt;sepolia_url&gt;
</code></pre></div>
<ul>
<li>Output: <ul>
<li>0xF21452f6b9606B4026fd1C057FDbd8bB7E33c487</li>
<li>472</li>
<li>0x0459d576A6223fEeA177Fb3DF53C9c77BF84C459</li>
<li>12</li>
<li><mark><strong>0x6a327b365efeb205f2dedc9ec6dd505d3c5c5dbb6d84a33233d4a9d6fb74295c</strong></mark> (<code>lastLocalExitRoot</code>)</li>
<li>0</li>
<li>0</li>
<li>0</li>
<li>30</li>
<li>1</li>
<li><mark><strong>0x04970a4ae71b81bfca444f84318475a48475e6d1a1c6126e31c046d952eec6f2</strong></mark> (<code>lastPessimisticRoot</code>)</li>
<li>0x00eff0b6998df46ec388bb305618089ae3dc74e513e7676b2e1909694f49cc30</li>
</ul>
</li>
</ul>
<h4 id="l1infotreeroot">l1InfoTreeRoot</h4>
<div class="highlight"><pre><span></span><code>cast call &lt;globalExitRootManager&gt; &quot;l1InfoRootMap(uint32)&quot; &lt;l1InfoTreeLeafCount&gt; --rpc-url &lt;sepolia_url&gt;
</code></pre></div>
<blockquote>
<p>fill globalExitRootManager, l1InfoTreeLeafCount, sepolia_url</p>
</blockquote>
<h4 id="rollupid">rollupID</h4>
<div class="highlight"><pre><span></span><code>cast call &lt;rollupManagerAddress&gt; &quot;rollupAddressToID(address)&quot; &lt;rollupAddress&gt; --rpc-url &lt;sepolia_url&gt;
</code></pre></div>
<blockquote>
<p>rollupManagerAddress, rollupAddress, sepolia_url</p>
</blockquote>
<h4 id="consensushash">consensusHash</h4>
<ul>
<li>
<p>For pessimistic verifier:
<div class="highlight"><pre><span></span><code>cast call &lt;rollupContractAddress&gt; &quot;getConsensusHash()&quot; --rpc-url &lt;sepolia_url&gt;
</code></pre></div></p>
<blockquote>
<p>fill &lt;rollupContractAddress, <sepolia_url></p>
</blockquote>
</li>
<li>
<p>For ALGateway verifier, aggchainFEP --&gt; <code>getAggchainHash(aggchainData)</code>:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>cast call &lt;rollupContractAddress&gt; &quot;getAggchainHash(bytes)&quot; &lt;aggchainData&gt; --rpc-url &lt;sepolia_url&gt;
</code></pre></div>
<p>ConsensusHash is:
<div class="highlight"><pre><span></span><code>keccak256(
    abi.encodePacked(
        CONSENSUS_TYPE,
        getAggchainVKey(_aggchainVKeySelector),
        aggchainParams
    )
);
</code></pre></div></p>
<p>Where:</p>
<ul>
<li>
<p><code>CONSENSUS_TYPE</code>:
<div class="highlight"><pre><span></span><code>cast call &lt;rollupContractAddress&gt; &quot;CONSENSUS_TYPE()&quot; --rpc-url &lt;sepolia_url&gt;
</code></pre></div></p>
<blockquote>
<p>fill rollupContractAddress, sepolia_url</p>
</blockquote>
</li>
<li>
<p><code>getAggchainVKey(_aggchainVKeySelector)</code>:</p>
<ul>
<li><code>aggchainVKeySelector</code> from <code>aggchainData</code>:
<div class="highlight"><pre><span></span><code>@param aggchainData custom bytes provided by the chain
    aggchainData:
     Field:           | _aggchainVKeySelector | _outputRoot  | _l2BlockNumber |
     length (bits):   | 32                   | 256          | 256            |
</code></pre></div></li>
</ul>
</li>
</ul>
<p>Then <code>aggchainVKeySelector</code>:
<div class="highlight"><pre><span></span><code>cast call &lt;rollupContractAddress&gt; &quot;getAggchainVKey(bytes4)&quot; &lt;aggchainVKeySelector&gt; --rpc-url &lt;sepolia_url&gt;
</code></pre></div></p>
<blockquote>
<p>fill rollupContractAddress, aggchainVKeySelector, sepolia_url</p>
</blockquote>
<ul>
<li>
<p>aggchainParams:
<div class="highlight"><pre><span></span><code>bytes32 aggchainParams = keccak256(
    abi.encodePacked(
        l2Outputs[latestOutputIndex()].outputRoot,
        _outputRoot,
        _l2BlockNumber,
        rollupConfigHash,
        optimisticMode,
        trustedSequencer,
        rangeVkeyCommitment,
        aggregationVkey
    )
);
</code></pre></div></p>
</li>
<li>
<p>l2Outputs[latestOutputIndex()].outputRoot --&gt; internal</p>
</li>
<li>
<p><code>outputRoot</code>, <code>l2BlockNumber</code> from <code>aggchainData</code>:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>@param aggchainData custom bytes provided by the chain
    aggchainData:
     Field:           | _aggchainVKeySelector | _outputRoot  | _l2BlockNumber |
     length (bits):   | 32                    | 256          | 256            |
</code></pre></div>
<ul>
<li>
<p>rollupConfigHash:
<div class="highlight"><pre><span></span><code>cast call &lt;rollupContractAddress&gt; &quot;rollupConfigHash()&quot; --rpc-url &lt;sepolia_url&gt;
</code></pre></div></p>
</li>
<li>
<p>optimisticMode:
<div class="highlight"><pre><span></span><code>cast call &lt;rollupContractAddress&gt; &quot;optimisticMode()&quot; --rpc-url &lt;sepolia_url&gt; 
</code></pre></div></p>
</li>
<li>
<p>trustedSequencer:
<div class="highlight"><pre><span></span><code>cast call &lt;rollupContractAddress&gt; &quot;trustedSequencer()&quot; --rpc-url &lt;sepolia_url&gt; 
</code></pre></div></p>
</li>
<li>
<p>rangeVkeyCommitment:
<div class="highlight"><pre><span></span><code>cast call &lt;rollupContractAddress&gt; &quot;rangeVkeyCommitment()&quot; --rpc-url &lt;sepolia_url&gt;    
</code></pre></div></p>
</li>
<li>
<p>aggregationVkey:
<div class="highlight"><pre><span></span><code>cast call &lt;rollupContractAddress&gt; &quot;aggregationVkey()&quot; --rpc-url &lt;sepolia_url&gt;    
</code></pre></div></p>
</li>
</ul>
<blockquote>
<p>fill rollupContractAddress, sepolia_url</p>
</blockquote>
<h4 id="newlocalexitroot-newpessimisticroot">newLocalExitRoot &amp; newPessimisticRoot</h4>
<ul>
<li><code>newLocalExitRoot</code>: New local exit root</li>
<li><code>newPessimisticRoot</code>: New pessimistic information, Hash(localBalanceTreeRoot, nullifierTreeRoot)</li>
</ul>
<h3 id="quick-command">Quick command</h3>
<h4 id="pessimistic">Pessimistic</h4>
<div class="highlight"><pre><span></span><code>// TODO: Update params
POLYGON_ROLLUP_MANAGER=&quot;0x..&quot;
ROLLUP_ADDRESS=&quot;0x..&quot;
GLOBAL_EXIT_ROOT_MANAGER=&quot;0x..&quot;
SEPOLIA_URL=&quot;https://sepolia...&quot;
ROLLUP_ID=35
L1_INFO_TREE_LEAF_COUNT=1

output=$(cast call $POLYGON_ROLLUP_MANAGER &quot;rollupIDToRollupDataV2Deserialized(uint32)(address,uint64,address,uint64,bytes32,uint64,uint64,uint64,uint64,uint8,bytes32,bytes32)&quot; $ROLLUP_ID --rpc-url $SEPOLIA_URL)
programVKey=$(echo &quot;$output&quot; | grep -Eo &#39;0x[a-fA-F0-9]{40,}&#39; | tail -n 1)
lastLocalExitRoot=$(echo &quot;$output&quot; | sed -n &#39;5p&#39;)
lastPessimisticRoot=$(echo &quot;$output&quot; | tail -n 2 | head -n 1)
l1InfoTreeRoot=$(cast call $GLOBAL_EXIT_ROOT_MANAGER &quot;l1InfoRootMap(uint32)&quot; $L1_INFO_TREE_LEAF_COUNT --rpc-url $SEPOLIA_URL)
rollupID=$(cast call $POLYGON_ROLLUP_MANAGER &quot;rollupAddressToID(address)&quot; $ROLLUP_ADDRESS --rpc-url $SEPOLIA_URL)
consensusHash=$(cast call $ROLLUP_ADDRESS &quot;getConsensusHash()&quot; --rpc-url $SEPOLIA_URL)

echo &quot;programVKey: $programVKey&quot;
echo &quot;lastLocalExitRoot: $lastLocalExitRoot&quot;
echo &quot;lastPessimisticRoot: $lastPessimisticRoot&quot;
echo &quot;l1InfoTreeRoot: $l1InfoTreeRoot&quot;
echo &quot;rollupID (address to ID): $rollupID&quot;
echo &quot;consensusHash: $consensusHash&quot;
</code></pre></div>
<h4 id="agglayergateway">AgglayerGateway</h4>
<div class="highlight"><pre><span></span><code>// TODO: Update params
POLYGON_ROLLUP_MANAGER=&quot;0x...&quot;
ROLLUP_ADDRESS=&quot;0x...&quot;
AGGLAYERGATEWAY=&quot;0x...&quot;
GLOBAL_EXIT_ROOT_MANAGER=&quot;0x...&quot;
SEPOLIA_URL=&quot;https://sepolia...&quot;

ROLLUP_ID=34
PP_SELECTOR=&quot;0x00000004&quot;
L1_INFO_TREE_LEAF_COUNT=1
AGGCHAIN_DATA=&quot;0x...&quot;

output=$(cast call $AGGLAYERGATEWAY &quot;pessimisticVKeyRoutes(bytes4)(address,bytes32,bool)&quot; $PP_SELECTOR --rpc-url $SEPOLIA_URL)
programVKey=$(echo &quot;$output&quot; | sed -n &#39;2p&#39;)
output=$(cast call $POLYGON_ROLLUP_MANAGER &quot;rollupIDToRollupDataV2Deserialized(uint32)(address,uint64,address,uint64,bytes32,uint64,uint64,uint64,uint64,uint8,bytes32,bytes32)&quot; $ROLLUP_ID --rpc-url $SEPOLIA_URL)
lastLocalExitRoot=$(echo &quot;$output&quot; | sed -n &#39;5p&#39;)
lastPessimisticRoot=$(echo &quot;$output&quot; | tail -n 2 | head -n 1)
l1InfoTreeRoot=$(cast call $GLOBAL_EXIT_ROOT_MANAGER &quot;l1InfoRootMap(uint32)&quot; $L1_INFO_TREE_LEAF_COUNT --rpc-url $SEPOLIA_URL)
rollupID=$(cast call $POLYGON_ROLLUP_MANAGER &quot;rollupAddressToID(address)&quot; $ROLLUP_ADDRESS --rpc-url $SEPOLIA_URL)
consensusHash=$(cast call $ROLLUP_ADDRESS &quot;getAggchainHash(bytes)&quot; $AGGCHAIN_DATA --rpc-url $SEPOLIA_URL)
rollupConfigHash=$(cast call $ROLLUP_ADDRESS &quot;rollupConfigHash()&quot; --rpc-url $SEPOLIA_URL)
optimisticMode=$(cast call $ROLLUP_ADDRESS &quot;optimisticMode()&quot; --rpc-url $SEPOLIA_URL)
trustedSequencer=$(cast call $ROLLUP_ADDRESS &quot;trustedSequencer()&quot; --rpc-url $SEPOLIA_URL)
rangeVkeyCommitment=$(cast call $ROLLUP_ADDRESS &quot;rangeVkeyCommitment()&quot; --rpc-url $SEPOLIA_URL)
aggregationVkey=$(cast call $ROLLUP_ADDRESS &quot;aggregationVkey()&quot; --rpc-url $SEPOLIA_URL)

echo &quot;programVKey: $programVKey&quot;
echo &quot;lastLocalExitRoot: $lastLocalExitRoot&quot;
echo &quot;lastPessimisticRoot: $lastPessimisticRoot&quot;
echo &quot;l1InfoTreeRoot: $l1InfoTreeRoot&quot;
echo &quot;rollupID (address to ID): $rollupID&quot;
echo &quot;consensusHash: $consensusHash&quot;
echo &quot;rollupConfigHash: $rollupConfigHash&quot;
echo &quot;optimisticMode: $optimisticMode&quot;
echo &quot;trustedSequencer: $trustedSequencer&quot;
echo &quot;rangeVkeyCommitment: $rangeVkeyCommitment&quot;
echo &quot;aggregationVkey: $aggregationVkey&quot;
</code></pre></div>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="July 10, 2025 13:48:40 UTC">July 10, 2025</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.sections", "navigation.expand", "navigation.path", "navigation.indexes", "navigation.top"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>